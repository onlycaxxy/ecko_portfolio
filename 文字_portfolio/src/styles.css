:root{
  --bg:#0f0f10;
  --ink:#e6e0d6; /* muted cream */
  --ink-weak:#bdb7ae;
  --accent:#b55a5a; /* washed red */
  --grey:#2a2a2c;
  --grain-opacity:0.18;
  --scanline-opacity:0.12;
  --font: ui-monospace, SFMono-Regular, Menlo, Monaco, "JetBrains Mono","IBM Plex Mono", "Noto Sans Mono CJK", "Noto Sans Mono", Consolas, "Liberation Mono", monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
html{background:var(--bg); color:var(--ink); cursor:url('/assets/cursors/scribble.svg') 8 8, crosshair;}
body{margin:0; font-family:var(--font); line-height:1.6;}

.scanlines{
  pointer-events:none; position:fixed; inset:0;
  background:repeating-linear-gradient(to bottom, rgba(255,255,255,0.06) 0 1px, rgba(0,0,0,0) 1px 3px);
  mix-blend-mode:soft-light; opacity:var(--scanline-opacity);
  z-index:5;
}
.film-grain{
  pointer-events:none; position:fixed; inset:0;
  background-image:url('/assets/textures/grain.png');
  background-size:auto;
  opacity:var(--grain-opacity);
  mix-blend-mode:screen;
  z-index:4;
  animation:grainshift 6s steps(6) infinite;
}
@keyframes grainshift {
  0%{transform:translate(0,0)}
  50%{transform:translate(-2%,1%)}
  100%{transform:translate(0,0)}
}

#bg-canvas{position:fixed; inset:0; z-index:1; opacity:.55;}

.zine-index{position:fixed; top:1rem; left:1rem; z-index:10;}
.index-toggle{
  background:transparent; color:var(--ink); border:1px dashed var(--ink-weak);
  padding:.3rem .5rem; letter-spacing:.15em; font-size:.8rem; cursor:pointer;
}
.index-list{
  margin:.5rem 0 0; padding:.5rem; list-style:none; border:1px dashed var(--ink-weak);
  background:rgba(15,15,16,.6); backdrop-filter:blur(4px);
}
.index-list a{color:var(--ink); text-decoration:none;}
.index-list a:hover{color:var(--accent); text-decoration:underline wavy .08em;}

.fx{
  position:fixed; top:1rem; right:1rem; z-index:10;
  display:flex; flex-direction:column; gap:.25rem;
  font-size:.8rem; color:var(--ink-weak);
  background:rgba(15,15,16,.6); padding:.5rem .6rem; border:1px dashed var(--ink-weak);
  backdrop-filter:blur(4px);
}
.fx input{accent-color:var(--accent);}

.split{
  position:relative; z-index:2; display:grid; grid-template-columns:1fr 1fr; gap:1px;
  height:100vh; overflow:hidden; border-top:1px solid var(--grey);
}
.col{
  height:100%; overflow:auto; scroll-behavior:smooth; padding:8vh 6vw 12vh;
  background:linear-gradient(#141414 0%, #0f0f10 100%);
  mask-image:radial-gradient(90% 60% at 50% 0%, rgba(0,0,0,.8), rgba(0,0,0,1));
}
.col::-webkit-scrollbar{width:8px}
.col::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12)}

.block{margin:20vh 0}
.t{font-weight:600; letter-spacing:.12em; text-transform:uppercase; color:var(--ink); opacity:.85;}
.lead{font-size:1.05rem; color:var(--ink); opacity:.9;}

.verse{font-size:1rem; opacity:.95;}
.quote{opacity:.9; border-left:2px solid var(--accent); padding-left:.8rem;}
.note{color:var(--ink-weak); font-size:.9rem;}

a{color:var(--accent)} a:hover{opacity:.9}

.foot{position:fixed; bottom:.5rem; left:0; right:0; text-align:center; z-index:3; color:var(--ink-weak); font-size:.75rem;}

/* Hover glitch (toggle-able) */
.glitchy{
  position:relative; display:inline-block;
}
.glitchy:hover::before, .glitchy:hover::after{
  content:attr(data-shadow);
  position:absolute; left:0; top:0; pointer-events:none;
  text-shadow: 1px 0 rgba(181,90,90,.9), -1px 0 rgba(231,231,231,.9);
  mix-blend-mode:difference; animation:gl 360ms steps(2) infinite;

}
@keyframes gl{
  0%{clip-path:inset(0 0 85% 0); transform:translate(-1px,-1px) skewX(-2deg)}
  50%{clip-path:inset(15% 0 0 0); transform:translate(1px,1px) skewX(2deg)}
  100%{clip-path:inset(0 0 85% 0); transform:translate(-1px,0) skewX(-1deg)}
}

/* Progressive enhancement: CSS scroll-driven animations (modern browsers) */
@supports (animation-timeline: scroll()) {
  .block{
    animation: floaty linear both;
    animation-timeline: view();
    animation-range: cover 10% cover 80%;
  }
  @keyframes floaty{
    from{ transform: translateY(6vh); opacity:.75 }
    to{ transform: translateY(-6vh); opacity:1 }
  }
}
